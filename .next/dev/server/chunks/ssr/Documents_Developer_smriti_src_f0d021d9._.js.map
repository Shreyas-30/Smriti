{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreyas/Documents/Developer/smriti/src/lib/supabase/server.ts"],"sourcesContent":["import { cookies } from \"next/headers\";\nimport { createServerClient } from \"@supabase/ssr\";\n\nexport async function createSupabaseServerClient() {\n  // âœ… Next 15+: cookies() is async\n  const cookieStore = await cookies();\n\n  const url = process.env.SUPABASE_URL || process.env.NEXT_PUBLIC_SUPABASE_URL;\n  const anon =\n    process.env.SUPABASE_ANON_KEY ||\n    process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY;\n\n  if (!url || !anon) {\n    console.error(\"[Supabase env missing on server]\", {\n      SUPABASE_URL: Boolean(process.env.SUPABASE_URL),\n      SUPABASE_ANON_KEY: Boolean(process.env.SUPABASE_ANON_KEY),\n      NEXT_PUBLIC_SUPABASE_URL: Boolean(process.env.NEXT_PUBLIC_SUPABASE_URL),\n      NEXT_PUBLIC_SUPABASE_ANON_KEY: Boolean(\n        process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY,\n      ),\n    });\n    throw new Error(\n      \"Missing Supabase server env vars (SUPABASE_URL / SUPABASE_ANON_KEY).\",\n    );\n  }\n\n  return createServerClient(url, anon, {\n    cookies: {\n      getAll() {\n        return cookieStore.getAll();\n      },\n      setAll(cookiesToSet) {\n        // In Server Components this may throw; safe no-op\n        try {\n          cookiesToSet.forEach(({ name, value, options }: any) => {\n            cookieStore.set(name, value, options);\n          });\n        } catch {\n          // no-op\n        }\n      },\n    },\n  });\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;;;AAEO,eAAe;IACpB,iCAAiC;IACjC,MAAM,cAAc,MAAM,IAAA,8KAAO;IAEjC,MAAM,MAAM,QAAQ,GAAG,CAAC,YAAY;IACpC,MAAM,OACJ,QAAQ,GAAG,CAAC,iBAAiB;IAG/B;;IAcA,OAAO,IAAA,mOAAkB,EAAC,KAAK,MAAM;QACnC,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,kDAAkD;gBAClD,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAO;wBACjD,YAAY,GAAG,CAAC,MAAM,OAAO;oBAC/B;gBACF,EAAE,OAAM;gBACN,QAAQ;gBACV;YACF;QACF;IACF;AACF"}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreyas/Documents/Developer/smriti/src/app/%28dashboard%29/logout-button.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Documents/Developer/smriti/src/app/(dashboard)/logout-button.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Documents/Developer/smriti/src/app/(dashboard)/logout-button.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,4SAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoU,GACjW,kGACA","ignoreList":[0]}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreyas/Documents/Developer/smriti/src/app/%28dashboard%29/logout-button.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Documents/Developer/smriti/src/app/(dashboard)/logout-button.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Documents/Developer/smriti/src/app/(dashboard)/logout-button.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,4SAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgT,GAC7U,8EACA","ignoreList":[0]}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreyas/Documents/Developer/smriti/src/app/%28dashboard%29/layout.tsx"],"sourcesContent":["import { createSupabaseServerClient } from \"@/lib/supabase/server\";\nimport Link from \"next/link\";\nimport { redirect } from \"next/navigation\";\nimport LogoutButton from \"./logout-button\";\n\nexport default async function DashboardLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const supabase = await createSupabaseServerClient();\n  const { data } = await supabase.auth.getUser();\n\n  if (!data.user) redirect(\"/login\");\n\n  return (\n    <main className=\"min-h-screen bg-neutral-50\">\n      <header className=\"border-b border-neutral-200 bg-white\">\n        <div className=\"mx-auto flex max-w-5xl items-center justify-between p-4\">\n          <Link href=\"/dashboard\" className=\"font-semibold text-neutral-900\">\n            Smriti\n          </Link>\n          <nav className=\"flex items-center gap-4 text-sm text-neutral-700\">\n            <Link href=\"/elders\">Elders</Link>\n            <Link href=\"/stories\">Stories</Link>\n            <Link href=\"/projects\">Projects</Link>\n            <LogoutButton />\n          </nav>\n        </div>\n      </header>\n\n      <div className=\"mx-auto max-w-5xl p-6\">{children}</div>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;AACA;;;;;;AAEe,eAAe,gBAAgB,EAC5C,QAAQ,EAGT;IACC,MAAM,WAAW,MAAM,IAAA,kMAA0B;IACjD,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAE5C,IAAI,CAAC,KAAK,IAAI,EAAE,IAAA,qOAAQ,EAAC;IAEzB,qBACE,kRAAC;QAAK,WAAU;;0BACd,kRAAC;gBAAO,WAAU;0BAChB,cAAA,kRAAC;oBAAI,WAAU;;sCACb,kRAAC,8NAAI;4BAAC,MAAK;4BAAa,WAAU;sCAAiC;;;;;;sCAGnE,kRAAC;4BAAI,WAAU;;8CACb,kRAAC,8NAAI;oCAAC,MAAK;8CAAU;;;;;;8CACrB,kRAAC,8NAAI;oCAAC,MAAK;8CAAW;;;;;;8CACtB,kRAAC,8NAAI;oCAAC,MAAK;8CAAY;;;;;;8CACvB,kRAAC,+LAAY;;;;;;;;;;;;;;;;;;;;;;0BAKnB,kRAAC;gBAAI,WAAU;0BAAyB;;;;;;;;;;;;AAG9C"}}]
}